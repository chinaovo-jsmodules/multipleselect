!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?e(require("jquery")):"undefined"!=typeof module&&module.exports?module.exports=e(require("jquery")):e(jQuery)}(function(e,t){"use strict";e.ovoMultipleSelect={version:"0.1.2",author:"OvO",defaults:{name:"",fromDataUrl:"",fromData:[],toDataUrl:"",toData:[]},plugins:{}},e.fn.ovoMultipleSelect=function(t){t=e.extend(!0,{},e.ovoMultipleSelect.defaults,t);var a=e(this),n=function(){var a={str:e(this).val()||""};t.fromDataUrl.length>0?e.ajax({type:"get",url:t.fromDataUrl,data:a||"",dataType:"json",headers:{Accept:"application/json","Content-Type":"application/json"},success:function(e){o(e)},error:function(e,t,a){return console.error(a),[]}}):o()},o=function(n){n=e.extend([],t.fromData,n);var o=e("select.from",a).empty();e(n).each(function(){e("<option>").html(this.name||"").val(this.value||this.sid||"").dblclick(d).appendTo(o)}),e("option:first",o).prop("selected","selected")},l=function(){t.toDataUrl.length>0?e.ajax({type:"get",url:t.toDataUrl,dataType:"json",headers:{Accept:"application/json","Content-Type":"application/json"},success:function(e){p(e)},error:function(e,t,a){return console.error(a),[]}}):p()},p=function(n){n=e.extend([],t.toData,n);var o=e("select.to",a).empty();e(n).each(function(){e("<option>").html(this.name||"").val(this.value||this.sid||"").dblclick(s).appendTo(o)})},d=function(){var t=e("select.from",a),n=e("select.to",a);e("option:selected",t).length<1&&e("option:first",t).prop("selected","selected"),e("option:selected",t).clone().dblclick(s).appendTo(n),e("option:selected",t).remove()},s=function(){var t=e("select.from",a),n=e("select.to",a);e("option:selected",n).length<1&&e("option:first",n).prop("selected","selected"),e("option:selected",n).clone().dblclick(d).appendTo(t),e("option:selected",n).remove()},c=function(){var t=e("select.from",a),n=e("select.to",a);e("option",t).clone().dblclick(s).appendTo(n),e("option",t).remove()},i=function(){var t=e("select.from",a),n=e("select.to",a);e("option",n).clone().dblclick(d).appendTo(t),e("option",n).remove()};this.each(function(){a=e(this);var o=e("<select>").addClass("from").prop("multiple",!0),p=e("<select>").addClass("to").prop("multiple",!0).prop("name",t.name||""),r=e("<input>").addClass("form-control").prop("type","text").prop("placeholder","搜索").keyup(n),f=e("<a>").addClass("btn btn-default btn-block btn-sm").append("选择 ").append(e("<i>").addClass("fa fa-angle-right")).click(d),u=e("<a>").addClass("btn btn-default btn-block btn-sm").append(e("<i>").addClass("fa fa-angle-left")).append(" 移除").click(s),m=e("<a>").addClass("btn btn-default btn-block btn-sm").append("全择 ").append(e("<i>").addClass("fa fa-angle-double-right")).click(c),h=e("<a>").addClass("btn btn-default btn-block btn-sm").append(e("<i>").addClass("fa fa-angle-double-left")).append(" 全移除").click(i),v=e("<div>").addClass("selectpart selectleft");t.fromDataUrl.length>0&&v.append(e("<div>").addClass("input-icon").append(e("<i>").addClass("fa fa-search")).append(r)),v.append(e("<div>").addClass("select").append(o)).appendTo(a),e("<div>").addClass("selectpart selectop").append(e("<div>").addClass("clearfix").append(f).append(u).append(m).append(h)).appendTo(a),e("<div>").addClass("selectpart selectright").append(e("<div>").addClass("select").append(p)).appendTo(a),n(),l(),t.fromDataUrl.length>0&&p.height(o.height()+36)})}});